From 3515a6ff861530f8f404309408d4b24e7dc50916 Mon Sep 17 00:00:00 2001
From: "Zeeshan Ali (Khattak)" <zeeshanak@gnome.org>
Date: Thu, 9 Jan 2014 16:24:25 +0000
Subject: [PATCH 1/2] Remove unsigned drivers from unsecure locations

---
 data/os/microsoft.com/win-7.xml.in  | 40 ---------------------------------
 data/os/microsoft.com/win-xp.xml.in | 44 -------------------------------------
 2 files changed, 84 deletions(-)

diff --git a/data/os/microsoft.com/win-7.xml.in b/data/os/microsoft.com/win-7.xml.in
index c9e3ca8..d281864 100644
--- a/data/os/microsoft.com/win-7.xml.in
+++ b/data/os/microsoft.com/win-7.xml.in
@@ -187,45 +187,5 @@
       <script id='http://microsoft.com/windows/unattend/desktop'/>
       <script id='http://microsoft.com/windows/cmd/desktop'/>
     </installer>
-
-    <!-- virtio block device driver -->
-    <driver arch="i686" location="https://zeenix.fedorapeople.org/drivers/win-tools-1/preinst/win7/x86" pre-installable="true" signed="false">
-      <file>viostor.cat</file>
-      <file>viostor.inf</file>
-      <file>viostor.sys</file>
-      <device id="http://pcisig.com/pci/1af4/1001"/>
-    </driver>
-
-    <driver arch="x86_64" location="https://zeenix.fedorapeople.org/drivers/win-tools-1/preinst/win7/amd64" pre-installable="true" signed="false">
-      <file>viostor.cat</file>
-      <file>viostor.inf</file>
-      <file>viostor.sys</file>
-      <device id="http://pcisig.com/pci/1af4/1001"/>
-    </driver>
-
-    <!-- All virtio and QXL device drivers, and spice-vdagent -->
-    <driver arch="i686" location="https://zeenix.fedorapeople.org/drivers/win-tools/postinst" signed="false">
-      <file>spice-guest-tools-0.65.exe</file>
-      <file>spice-guest-tools-0.65.cmd</file>
-      <file>redhat09.cer</file>
-      <file>redhat10.cer</file>
-      <device id="http://pcisig.com/pci/1af4/1000"/>
-      <device id="http://pcisig.com/pci/1af4/1001"/>
-      <device id="http://pcisig.com/pci/1af4/1002"/>
-      <device id="http://pcisig.com/pci/1af4/1003"/>
-      <device id="http://pcisig.com/pci/1b36/0100"/>
-    </driver>
-
-    <driver arch="x86_64" location="https://zeenix.fedorapeople.org/drivers/win-tools/postinst" signed="false">
-      <file>spice-guest-tools-0.65.exe</file>
-      <file>spice-guest-tools-0.65.cmd</file>
-      <file>redhat09.cer</file>
-      <file>redhat10.cer</file>
-      <device id="http://pcisig.com/pci/1af4/1000"/>
-      <device id="http://pcisig.com/pci/1af4/1001"/>
-      <device id="http://pcisig.com/pci/1af4/1002"/>
-      <device id="http://pcisig.com/pci/1af4/1003"/>
-      <device id="http://pcisig.com/pci/1b36/0100"/>
-    </driver>
   </os>
 </libosinfo>
diff --git a/data/os/microsoft.com/win-xp.xml.in b/data/os/microsoft.com/win-xp.xml.in
index 3e181d9..a21c18c 100644
--- a/data/os/microsoft.com/win-xp.xml.in
+++ b/data/os/microsoft.com/win-xp.xml.in
@@ -65,49 +65,5 @@
       <script id='http://microsoft.com/windows/reg/desktop'/>
       <script id='http://microsoft.com/windows/cmd/desktop'/>
     </installer>
-
-    <!-- virtio block device driver -->
-    <driver arch="i686" location="https://zeenix.fedorapeople.org/drivers/win-tools-1/preinst/winxp/x86" pre-installable="true" signed="false">
-      <file>viostor.cat</file>
-      <file>viostor.inf</file>
-      <file>viostor.sys</file>
-      <!-- For now we require this for pre-installation but we should probably generate this too -->
-      <file>txtsetup.oem</file>
-      <device id="http://pcisig.com/pci/1af4/1001"/>
-    </driver>
-
-    <driver arch="x86_64" location="https://zeenix.fedorapeople.org/drivers/win-tools-1/preinst/winxp/amd64" pre-installable="true" signed="false">
-      <file>viostor.cat</file>
-      <file>viostor.inf</file>
-      <file>viostor.sys</file>
-      <!-- For now we require this for pre-installation but we should probably generate this too -->
-      <file>txtsetup.oem</file>
-      <device id="http://pcisig.com/pci/1af4/1001"/>
-    </driver>
-
-    <!-- All virtio and QXL device drivers, and spice-vdagent -->
-    <driver arch="i686" location="https://zeenix.fedorapeople.org/drivers/win-tools/postinst" signed="false">
-      <file>spice-guest-tools-0.65.exe</file>
-      <file>spice-guest-tools-0.65.cmd</file>
-      <file>redhat09.cer</file>
-      <file>redhat10.cer</file>
-      <device id="http://pcisig.com/pci/1af4/1000"/>
-      <device id="http://pcisig.com/pci/1af4/1001"/>
-      <device id="http://pcisig.com/pci/1af4/1002"/>
-      <device id="http://pcisig.com/pci/1af4/1003"/>
-      <device id="http://pcisig.com/pci/1b36/0100"/>
-    </driver>
-
-    <driver arch="x86_64" location="https://zeenix.fedorapeople.org/drivers/win-tools/postinst" signed="false">
-      <file>spice-guest-tools-0.65.exe</file>
-      <file>spice-guest-tools-0.65.cmd</file>
-      <file>redhat09.cer</file>
-      <file>redhat10.cer</file>
-      <device id="http://pcisig.com/pci/1af4/1000"/>
-      <device id="http://pcisig.com/pci/1af4/1001"/>
-      <device id="http://pcisig.com/pci/1af4/1002"/>
-      <device id="http://pcisig.com/pci/1af4/1003"/>
-      <device id="http://pcisig.com/pci/1b36/0100"/>
-    </driver>
   </os>
 </libosinfo>
-- 
2.5.5

